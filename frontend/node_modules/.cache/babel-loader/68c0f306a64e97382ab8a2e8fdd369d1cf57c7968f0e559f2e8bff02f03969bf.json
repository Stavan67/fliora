{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useNavigate,useLocation}from'react-router-dom';import apiClient from'../../services/apiClient';import{Client}from'@stomp/stompjs';import SockJS from'sockjs-client';import'../../styles/Dashboard.css';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=_ref=>{let{user,onLogout}=_ref;const[currentView,setCurrentView]=useState('dashboard');// 'dashboard', 'waiting-room'\nconst[roomData,setRoomData]=useState(null);const[joinRoomCode,setJoinRoomCode]=useState('');const[isHost,setIsHost]=useState(false);const[participants,setParticipants]=useState([]);const[localStream,setLocalStream]=useState(null);const[videoEnabled,setVideoEnabled]=useState(true);const[audioEnabled,setAudioEnabled]=useState(true);const[chatMessages,setChatMessages]=useState([]);const[chatInput,setChatInput]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[stompClient,setStompClient]=useState(null);const localVideoRef=useRef(null);const navigate=useNavigate();const location=useLocation();useEffect(()=>{const urlParams=new URLSearchParams(location.search);const inviteRoomCode=urlParams.get('room');if(inviteRoomCode){setJoinRoomCode(inviteRoomCode);validateAndJoinRoom(inviteRoomCode);}},[location]);useEffect(()=>{if(currentView==='waiting-room'){initializeMedia();connectWebSocket();}return()=>{if(localStream){localStream.getTracks().forEach(track=>track.stop());}if(stompClient){stompClient.disconnect();}};},[currentView]);const connectWebSocket=()=>{if(!roomData)return;const socket=new SockJS('/ws');const client=new Client({webSocketFactory:()=>socket,onconnect:()=>{console.log('Connected to WebSocket');client.subscribe(\"/topic/room/\".concat(roomData.roomCode),message=>{const notification=JSON.parse(message.body);handleRoomNotification(notification);});},onDisconnect:()=>{console.log('Disconnected from WebSocket');},onStompError:error=>{console.error('WebSocket error:',error);}});client.activate();setStompClient(client);};const handleRoomNotification=notification=>{const{type,message,timestamp}=notification;switch(type){case'USER_JOINED':case'USER_LEFT':case'USER_KICKED':refreshParticipants();addSystemMessage(message);break;case'MEDIA_UPDATED':refreshParticipants();break;case'WATCH_PARTY_STARTED':addSystemMessage(message);break;case'ROOM_ENDED':addSystemMessage(message);setTimeout(()=>goBackToDashboard(),3000);break;default:break;}};const addSystemMessage=message=>{setChatMessages(prev=>[...prev,{id:Date.now(),type:'system',message,timestamp:new Date().toLocaleTimeString()}]);};const initializeMedia=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({video:true,audio:true});setLocalStream(stream);if(localVideoRef.current){localVideoRef.current.srcObject=stream;}}catch(err){console.error('Error accessing media devices:',err);setError('Failed to access camera/microphone. Please check permissions.');}};const validateAndJoinRoom=async code=>{try{setLoading(true);const validationResponse=await apiClient.get(\"/api/rooms/\".concat(code,\"/validate\"));if(!validationResponse.data.exists){setError('Room not found. Please check the room code.');return;}if(validationResponse.data.isFull){setError('Room is full. Cannot join.');return;}await handleJoinRoom(code);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to join roo,');}finally{setLoading(false);}};const handleCreateRoom=async()=>{setLoading(true);setError('');try{console.log('=== FRONTEND: Creating room ===');console.log('Current user:',user);console.log('API Base URL:',apiClient.defaults.baseURL);const response=await apiClient.post('/api/rooms/create',{roomName:\"\".concat(user.username,\"'s Room\")});console.log('=== FRONTEND: Room creation response ===');console.log('Response:',response.data);const room=response.data.room;setRoomData(room);setIsHost(room.isHost);setCurrentView('waiting-room');await loadParticipants(room.roomCode);addSystemMessage(\"Room \".concat(room.roomCode,\" created successfully! Share the link to invite friends.\"));}catch(err){var _err$response2,_err$response3,_err$response4,_err$response4$data;console.error('=== FRONTEND: Room creation error ===');console.error('Error:',err);console.error('Error response:',err.response);console.error('Error data:',(_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.data);console.error('Error status:',(_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status);console.error('Error message:',err.message);const errorMessage=((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||'Failed to create room. Please try again.';setError(errorMessage);}finally{setLoading(false);}};const handleJoinRoom=async function(){let code=arguments.length>0&&arguments[0]!==undefined?arguments[0]:joinRoomCode;if(!code.trim()){setError('Please enter a room code');return;}setLoading(true);try{const response=await apiClient.post(\"/api/rooms/\".concat(code,\"/join\"));const room=response.data.room;setRoomData(room);setIsHost(room.isHost);setCurrentView('waiting-room');await loadParticipants(room.roomCode);addSystemMessage(\"Welcome to \".concat(room.roomName,\"!\"));}catch(err){var _err$response5,_err$response5$data;setError(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.message)||'Failed to join room. Please check the room code.');}finally{setLoading(false);}};const loadParticipants=async roomCode=>{try{const response=await apiClient.get(\"/api/rooms/\".concat(roomCode,\"/participants\"));setParticipants(response.data.participants);}catch(err){console.error('Failed to load participants:',err);}};const refreshParticipants=async()=>{if(roomData){await loadParticipants(roomData.roomCode);}};const toggleVideo=async()=>{if(localStream){const videoTrack=localStream.getVideoTracks()[0];if(videoTrack){videoTrack.enabled=!videoEnabled;setVideoEnabled(!videoEnabled);try{await apiClient.post(\"/api/rooms/\".concat(roomData.roomCode,\"/media\"),{videoEnabled:!videoEnabled,audioEnabled:audioEnabled});}catch(err){console.error('Failed to update video status:',err);}}}};const toggleAudio=async()=>{if(localStream){const audioTrack=localStream.getAudioTracks()[0];if(audioTrack){audioTrack.enabled=!audioEnabled;setAudioEnabled(!audioEnabled);try{await apiClient.post(\"/api/rooms/\".concat(roomData.roomCode,\"/media\"),{videoEnabled:videoEnabled,audioEnabled:!audioEnabled});}catch(err){console.error('Failed to update audio status:',err);}}}};const sendChatMessage=()=>{if(!chatInput.trim())return;const message={id:Date.now(),type:'user',username:user.username,message:chatInput,timestamp:new Date().toLocaleTimeString()};setChatMessages(prev=>[...prev,message]);setChatInput('');};const copyRoomLink=()=>{const link=\"\".concat(window.location.origin,\"/?room=\").concat(roomData.roomCode);navigator.clipboard.writeText(link);alert('Room link copied to clipboard!');};const shareToWhatsApp=()=>{const link=\"\".concat(window.location.origin,\"/?room=\").concat(roomData.roomCode);const message=\"Join My Fliora Watch Party! Room Code: \".concat(roomData.roomCode,\"\\n\").concat(link);window.open(\"https://wa.me/?text=\".concat(encodeURIComponent(message)),'_blank');};const handleStartWatchParty=async()=>{try{setLoading(true);await apiClient.post(\"/api/rooms/\".concat(roomData.roomCode,\"/start\"));addSystemMessage('Starting Watch Party...');}catch(err){var _err$response6,_err$response6$data;setError(((_err$response6=err.response)===null||_err$response6===void 0?void 0:(_err$response6$data=_err$response6.data)===null||_err$response6$data===void 0?void 0:_err$response6$data.message)||'Failed to start watch party');}finally{setLoading(false);}};const handleKickParticipant=async participantId=>{try{await apiClient.post(\"/api/rooms/\".concat(roomData.roomCode,\"/kick/\").concat(participantId));}catch(err){var _err$response7,_err$response7$data;setError(((_err$response7=err.response)===null||_err$response7===void 0?void 0:(_err$response7$data=_err$response7.data)===null||_err$response7$data===void 0?void 0:_err$response7$data.message)||'Failed to kick participant');}};const goBackToDashboard=async()=>{if(localStream){localStream.getTracks().forEach(track=>track.stop());}if(stompClient){stompClient.disconnect();}if(roomData){try{await apiClient.post(\"/api/rooms/\".concat(roomData.roomCode,\"/leave\"));}catch(err){console.error('Failed to leave room:',err);}}setCurrentView('dashboard');setRoomData(null);setJoinRoomCode('');setParticipants([]);setChatMessages([]);setLocalStream(null);setIsHost(false);setError('');setStompClient(null);};if(currentView==='waiting-room'){return/*#__PURE__*/_jsxs(\"div\",{className:\"waiting-room\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-brand\",children:[\"Fliora - \",roomData===null||roomData===void 0?void 0:roomData.roomName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-user\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",user===null||user===void 0?void 0:user.username,\"!\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:goBackToDashboard,children:\"Leave Room\"}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:onLogout,children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"waiting-room-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"video-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"video-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"video-container local-video\",children:[/*#__PURE__*/_jsx(\"video\",{ref:localVideoRef,autoPlay:true,muted:true,playsInline:true,className:\"video-element \".concat(!videoEnabled?'video-disabled':'')}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-overlay\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"participant-name\",children:[user.username,\" (You)\"]}),!audioEnabled&&/*#__PURE__*/_jsx(\"span\",{className:\"muted-indicator\",children:\"\\uD83D\\uDD07\"})]}),!videoEnabled&&/*#__PURE__*/_jsx(\"div\",{className:\"video-placeholder\",children:/*#__PURE__*/_jsx(\"div\",{className:\"avatar\",children:user.username[0]})})]}),participants.filter(p=>p.id!==user.id).map(participant=>/*#__PURE__*/_jsxs(\"div\",{className:\"video-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"video-element participant-video\",children:/*#__PURE__*/_jsx(\"div\",{className:\"video-placeholder\",children:/*#__PURE__*/_jsx(\"div\",{className:\"avatar\",children:participant.username[0]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-overlay\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"participant-name\",children:[participant.username,participant.isHost&&/*#__PURE__*/_jsx(\"span\",{className:\"host-badge\",children:\"\\uD83D\\uDC51\"})]}),!participant.audioEnabled&&/*#__PURE__*/_jsx(\"span\",{className:\"muted-indicator\",children:\"\\uD83D\\uDD07\"}),isHost&&!participant.isHost&&/*#__PURE__*/_jsx(\"button\",{className:\"kick-btn\",onClick:()=>handleKickParticipant(participant.id),children:\"\\u274C\"})]})]},participant.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"video-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"control-btn \".concat(!audioEnabled?'disabled':''),onClick:toggleAudio,children:audioEnabled?'üé§':'üîá'}),/*#__PURE__*/_jsx(\"button\",{className:\"control-btn \".concat(!videoEnabled?'disabled':''),onClick:toggleVideo,children:videoEnabled?'üìπ':'üìµ'})]}),isHost&&/*#__PURE__*/_jsxs(\"div\",{className:\"host-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"start-party-btn\",onClick:handleStartWatchParty,disabled:loading,children:loading?'Starting...':'‚úÖ Start Watch Party'}),/*#__PURE__*/_jsx(\"button\",{className:\"wait-btn\",children:\"\\u23F3 Wait For More Friends\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"room-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Room: \",roomData===null||roomData===void 0?void 0:roomData.roomCode]}),/*#__PURE__*/_jsxs(\"div\",{className:\"share-options\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"share-btn\",onClick:copyRoomLink,children:\"\\uD83D\\uDCCB Copy Link\"}),/*#__PURE__*/_jsx(\"button\",{className:\"share-btn\",onClick:shareToWhatsApp,children:\"\\uD83D\\uDCF1 WhatsApp\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"participants-list\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Participants (\",participants.length,\")\"]}),participants.map(participant=>/*#__PURE__*/_jsxs(\"div\",{className:\"participant-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"participant-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"participant-avatar\",children:participant.username[0]}),/*#__PURE__*/_jsxs(\"span\",{className:\"participant-name\",children:[participant.username,participant.isHost&&/*#__PURE__*/_jsx(\"span\",{className:\"host-badge\",children:\"\\uD83D\\uDC51\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"participant-status\",children:[!participant.audioEnabled&&/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDD07\"}),!participant.videoEnabled&&/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCF5\"})]})]},participant.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Chat\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-messages\",children:chatMessages.map(msg=>/*#__PURE__*/_jsxs(\"div\",{className:\"chat-message \".concat(msg.type),children:[msg.type==='system'?/*#__PURE__*/_jsx(\"span\",{className:\"system-message\",children:msg.message}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"message-user\",children:[msg.username,\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"message-text\",children:msg.message})]}),/*#__PURE__*/_jsx(\"span\",{className:\"message-time\",children:msg.timestamp})]},msg.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:chatInput,onChange:e=>setChatInput(e.target.value),onKeyPress:e=>e.key==='Enter'&&sendChatMessage(),placeholder:\"Type A Message...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendChatMessage,children:\"Send\"})]})]})]})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-brand\",children:\"Fliora\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-user\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",user===null||user===void 0?void 0:user.username,\"!\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:onLogout,children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-section\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"dashboard-title\",children:\"Welcome to Fliora!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"dashboard-subtitle\",children:\"Watch Movies With Friends While Video Chatting\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[error,/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(''),children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-actions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"action-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-icon\",children:\"\\uD83C\\uDFAC\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Create Room\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Start A New Watch Party And Invite Your Friends\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn create-btn\",onClick:handleCreateRoom,disabled:loading,children:loading?'Creating...':'Create Room'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"action-divider\",children:\"OR\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-icon\",children:\"\\uD83D\\uDD17\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Join Room\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Enter A Room Code To Join An Existing Watch Party\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"join-room-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:joinRoomCode,onChange:e=>setJoinRoomCode(e.target.value.toUpperCase()),placeholder:\"Enter room code\",maxLength:8,className:\"room-code-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn join-btn\",onClick:()=>handleJoinRoom(),disabled:loading||!joinRoomCode.trim(),children:loading?'Joining...':'Join Room'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"features-preview\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Coming Soon Features\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"features-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feature-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-icon\",children:\"\\uD83C\\uDF7F\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Movie Streaming\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Stream Movies Together In Sync\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-icon\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Reactions\"}),/*#__PURE__*/_jsx(\"p\",{children:\"React And Comment During Movies\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-icon\",children:\"\\uD83D\\uDCF1\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Mobile App\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Watch On Your Mobile Device\"})]})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useLocation","apiClient","Client","SockJS","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Dashboard","_ref","user","onLogout","currentView","setCurrentView","roomData","setRoomData","joinRoomCode","setJoinRoomCode","isHost","setIsHost","participants","setParticipants","localStream","setLocalStream","videoEnabled","setVideoEnabled","audioEnabled","setAudioEnabled","chatMessages","setChatMessages","chatInput","setChatInput","loading","setLoading","error","setError","stompClient","setStompClient","localVideoRef","navigate","location","urlParams","URLSearchParams","search","inviteRoomCode","get","validateAndJoinRoom","initializeMedia","connectWebSocket","getTracks","forEach","track","stop","disconnect","socket","client","webSocketFactory","onconnect","console","log","subscribe","concat","roomCode","message","notification","JSON","parse","body","handleRoomNotification","onDisconnect","onStompError","activate","type","timestamp","refreshParticipants","addSystemMessage","setTimeout","goBackToDashboard","prev","id","Date","now","toLocaleTimeString","stream","navigator","mediaDevices","getUserMedia","video","audio","current","srcObject","err","code","validationResponse","data","exists","isFull","handleJoinRoom","_err$response","_err$response$data","response","handleCreateRoom","defaults","baseURL","post","roomName","username","room","loadParticipants","_err$response2","_err$response3","_err$response4","_err$response4$data","status","errorMessage","arguments","length","undefined","trim","_err$response5","_err$response5$data","toggleVideo","videoTrack","getVideoTracks","enabled","toggleAudio","audioTrack","getAudioTracks","sendChatMessage","copyRoomLink","link","window","origin","clipboard","writeText","alert","shareToWhatsApp","open","encodeURIComponent","handleStartWatchParty","_err$response6","_err$response6$data","handleKickParticipant","participantId","_err$response7","_err$response7$data","className","children","onClick","ref","autoPlay","muted","playsInline","filter","p","map","participant","disabled","msg","value","onChange","e","target","onKeyPress","key","placeholder","toUpperCase","maxLength"],"sources":["E:/fliora/fliora/frontend/src/components/dashboard/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport apiClient from '../../services/apiClient';\r\nimport { Client } from '@stomp/stompjs';\r\nimport SockJS from 'sockjs-client';\r\nimport '../../styles/Dashboard.css';\r\n\r\nconst Dashboard = ({user, onLogout }) => {\r\n    const [currentView, setCurrentView] = useState('dashboard'); // 'dashboard', 'waiting-room'\r\n    const [roomData, setRoomData] = useState(null);\r\n    const [joinRoomCode, setJoinRoomCode] = useState('');\r\n    const [isHost, setIsHost] = useState(false);\r\n    const [participants, setParticipants] = useState([]);\r\n    const [localStream, setLocalStream] = useState(null);\r\n    const [videoEnabled, setVideoEnabled] = useState(true);\r\n    const [audioEnabled, setAudioEnabled] = useState(true);\r\n    const [chatMessages, setChatMessages] = useState([]);\r\n    const [chatInput, setChatInput] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [stompClient, setStompClient] = useState(null);\r\n    const localVideoRef = useRef(null);\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        const urlParams = new URLSearchParams(location.search);\r\n        const inviteRoomCode = urlParams.get('room');\r\n        if(inviteRoomCode) {\r\n            setJoinRoomCode(inviteRoomCode);\r\n            validateAndJoinRoom(inviteRoomCode);\r\n        }\r\n    }, [location]);\r\n\r\n    useEffect(() => {\r\n        if(currentView === 'waiting-room') {\r\n            initializeMedia();\r\n            connectWebSocket();\r\n        }\r\n        return () => {\r\n            if(localStream) {\r\n                localStream.getTracks().forEach(track => track.stop());\r\n            }\r\n            if(stompClient) {\r\n                stompClient.disconnect();\r\n            }\r\n        };\r\n    }, [currentView]);\r\n\r\n    const connectWebSocket = () => {\r\n        if(!roomData) return;\r\n\r\n        const socket = new SockJS('/ws');\r\n        const client = new Client({\r\n            webSocketFactory: () => socket,\r\n            onconnect: () => {\r\n                console.log('Connected to WebSocket');\r\n\r\n                client.subscribe(`/topic/room/${roomData.roomCode}`, (message) => {\r\n                    const notification = JSON.parse(message.body);\r\n                    handleRoomNotification(notification);\r\n                });\r\n            },\r\n            onDisconnect: () => {\r\n                console.log('Disconnected from WebSocket');\r\n            },\r\n            onStompError: (error) => {\r\n                console.error('WebSocket error:', error);\r\n            }\r\n        });\r\n        client.activate();\r\n        setStompClient(client);\r\n    };\r\n\r\n    const handleRoomNotification = (notification) => {\r\n        const { type, message, timestamp } = notification;\r\n        switch (type) {\r\n            case 'USER_JOINED':\r\n            case 'USER_LEFT':\r\n            case 'USER_KICKED':\r\n                refreshParticipants();\r\n                addSystemMessage(message);\r\n                break;\r\n            case 'MEDIA_UPDATED':\r\n                refreshParticipants();\r\n                break;\r\n            case 'WATCH_PARTY_STARTED':\r\n                addSystemMessage(message);\r\n                break;\r\n            case 'ROOM_ENDED':\r\n                addSystemMessage(message);\r\n                setTimeout(() => goBackToDashboard(), 3000);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    const addSystemMessage = (message) => {\r\n        setChatMessages(prev => [...prev, {\r\n            id: Date.now(),\r\n            type: 'system',\r\n            message,\r\n            timestamp: new Date().toLocaleTimeString()\r\n        }]);\r\n    };\r\n\r\n    const initializeMedia = async () => {\r\n        try {\r\n            const stream = await navigator.mediaDevices.getUserMedia({\r\n                video: true,\r\n                audio: true\r\n            });\r\n            setLocalStream(stream);\r\n            if(localVideoRef.current){\r\n                localVideoRef.current.srcObject = stream;\r\n            }\r\n        } catch(err) {\r\n            console.error('Error accessing media devices:', err);\r\n            setError('Failed to access camera/microphone. Please check permissions.');\r\n        }\r\n    };\r\n\r\n    const validateAndJoinRoom = async (code) => {\r\n        try {\r\n            setLoading(true);\r\n\r\n            const validationResponse = await apiClient.get(`/api/rooms/${code}/validate`);\r\n            if(!validationResponse.data.exists){\r\n                setError('Room not found. Please check the room code.');\r\n                return;\r\n            }\r\n            if(validationResponse.data.isFull){\r\n                setError('Room is full. Cannot join.');\r\n                return;\r\n            }\r\n            await handleJoinRoom(code);\r\n        } catch (err) {\r\n            setError(err.response?.data?.message || 'Failed to join roo,');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCreateRoom = async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            console.log('=== FRONTEND: Creating room ===');\r\n            console.log('Current user:', user);\r\n            console.log('API Base URL:', apiClient.defaults.baseURL);\r\n\r\n            const response = await apiClient.post('/api/rooms/create', {\r\n                roomName: `${user.username}'s Room`\r\n            });\r\n\r\n            console.log('=== FRONTEND: Room creation response ===');\r\n            console.log('Response:', response.data);\r\n\r\n            const room = response.data.room;\r\n            setRoomData(room);\r\n            setIsHost(room.isHost);\r\n            setCurrentView('waiting-room');\r\n\r\n            await loadParticipants(room.roomCode);\r\n            addSystemMessage(`Room ${room.roomCode} created successfully! Share the link to invite friends.`);\r\n        } catch(err){\r\n            console.error('=== FRONTEND: Room creation error ===');\r\n            console.error('Error:', err);\r\n            console.error('Error response:', err.response);\r\n            console.error('Error data:', err.response?.data);\r\n            console.error('Error status:', err.response?.status);\r\n            console.error('Error message:', err.message);\r\n\r\n            const errorMessage = err.response?.data?.message || 'Failed to create room. Please try again.';\r\n            setError(errorMessage);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleJoinRoom = async (code = joinRoomCode) => {\r\n        if(!code.trim()) {\r\n            setError('Please enter a room code');\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        try {\r\n            const response = await apiClient.post(`/api/rooms/${code}/join`);\r\n            const room = response.data.room;\r\n            setRoomData(room);\r\n            setIsHost(room.isHost);\r\n            setCurrentView('waiting-room');\r\n\r\n            await loadParticipants(room.roomCode);\r\n            addSystemMessage(`Welcome to ${room.roomName}!`);\r\n        }  catch(err) {\r\n            setError(err.response?.data?.message || 'Failed to join room. Please check the room code.')\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const loadParticipants = async (roomCode) => {\r\n        try {\r\n            const response = await apiClient.get(`/api/rooms/${roomCode}/participants`);\r\n            setParticipants(response.data.participants);\r\n        } catch(err) {\r\n            console.error('Failed to load participants:', err);\r\n        }\r\n    };\r\n\r\n    const refreshParticipants = async () => {\r\n        if(roomData) {\r\n            await loadParticipants(roomData.roomCode);\r\n        }\r\n    };\r\n\r\n    const toggleVideo = async () => {\r\n        if(localStream) {\r\n            const videoTrack = localStream.getVideoTracks()[0];\r\n            if(videoTrack){\r\n                videoTrack.enabled = !videoEnabled;\r\n                setVideoEnabled(!videoEnabled);\r\n\r\n                try {\r\n                    await apiClient.post(`/api/rooms/${roomData.roomCode}/media`, {\r\n                        videoEnabled: !videoEnabled,\r\n                        audioEnabled: audioEnabled\r\n                    });\r\n                } catch (err){\r\n                    console.error('Failed to update video status:', err);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    const toggleAudio = async () => {\r\n        if(localStream) {\r\n            const audioTrack = localStream.getAudioTracks()[0];\r\n            if(audioTrack){\r\n                audioTrack.enabled = !audioEnabled;\r\n                setAudioEnabled(!audioEnabled);\r\n                try {\r\n                    await apiClient.post(`/api/rooms/${roomData.roomCode}/media`, {\r\n                        videoEnabled: videoEnabled,\r\n                        audioEnabled: !audioEnabled\r\n                    });\r\n                } catch(err){\r\n                    console.error('Failed to update audio status:', err);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    const sendChatMessage = () => {\r\n        if(!chatInput.trim()) return;\r\n\r\n        const message = {\r\n            id: Date.now(),\r\n            type: 'user',\r\n            username: user.username,\r\n            message: chatInput,\r\n            timestamp: new Date().toLocaleTimeString()\r\n        };\r\n        setChatMessages(prev => [...prev, message]);\r\n        setChatInput('');\r\n    };\r\n\r\n    const copyRoomLink = () => {\r\n        const link = `${window.location.origin}/?room=${roomData.roomCode}`;\r\n        navigator.clipboard.writeText(link);\r\n        alert('Room link copied to clipboard!');\r\n    };\r\n\r\n    const shareToWhatsApp = () => {\r\n        const link = `${window.location.origin}/?room=${roomData.roomCode}`;\r\n        const message = `Join My Fliora Watch Party! Room Code: ${roomData.roomCode}\\n${link}`;\r\n        window.open(`https://wa.me/?text=${encodeURIComponent(message)}`, '_blank');\r\n    };\r\n\r\n    const handleStartWatchParty = async () => {\r\n        try {\r\n            setLoading(true);\r\n            await apiClient.post(`/api/rooms/${roomData.roomCode}/start`);\r\n            addSystemMessage('Starting Watch Party...');\r\n        } catch (err) {\r\n            setError(err.response?.data?.message || 'Failed to start watch party');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleKickParticipant = async (participantId) => {\r\n        try {\r\n            await apiClient.post(`/api/rooms/${roomData.roomCode}/kick/${participantId}`);\r\n        } catch (err) {\r\n            setError(err.response?.data?.message || 'Failed to kick participant');\r\n        }\r\n    };\r\n\r\n    const goBackToDashboard = async () => {\r\n        if(localStream) {\r\n            localStream.getTracks().forEach(track => track.stop());\r\n        }\r\n        if(stompClient){\r\n            stompClient.disconnect();\r\n        }\r\n        if(roomData){\r\n            try {\r\n                await apiClient.post(`/api/rooms/${roomData.roomCode}/leave`);\r\n            } catch (err){\r\n                console.error('Failed to leave room:', err);\r\n            }\r\n        }\r\n        setCurrentView('dashboard');\r\n        setRoomData(null);\r\n        setJoinRoomCode('');\r\n        setParticipants([]);\r\n        setChatMessages([]);\r\n        setLocalStream(null);\r\n        setIsHost(false);\r\n        setError('');\r\n        setStompClient(null);\r\n    };\r\n\r\n    if(currentView === 'waiting-room') {\r\n        return (\r\n            <div className=\"waiting-room\">\r\n                <nav className=\"navbar\">\r\n                    <div className=\"navbar-brand\">Fliora - {roomData?.roomName}</div>\r\n                    <div className=\"navbar-user\">\r\n                        <span>Welcome, {user?.username}!</span>\r\n                        <button className=\"back-btn\" onClick={goBackToDashboard}>\r\n                            Leave Room\r\n                        </button>\r\n                        <button className=\"logout-btn\" onClick={onLogout}>\r\n                            Logout\r\n                        </button>\r\n                    </div>\r\n                </nav>\r\n\r\n                <div className=\"waiting-room-content\">\r\n                    <div className=\"video-section\">\r\n                        <div className=\"video-grid\">\r\n                            {/* Local Video */}\r\n                            <div className=\"video-container local-video\">\r\n                                <video\r\n                                    ref={localVideoRef}\r\n                                    autoPlay\r\n                                    muted\r\n                                    playsInline\r\n                                    className={`video-element ${!videoEnabled ? 'video-disabled' : ''}`}\r\n                                />\r\n                                <div className=\"video-overlay\">\r\n                                    <span className=\"participant-name\">{user.username} (You)</span>\r\n                                    {!audioEnabled && <span className=\"muted-indicator\">üîá</span>}\r\n                                </div>\r\n                                {!videoEnabled && (\r\n                                    <div className=\"video-placeholder\">\r\n                                        <div className=\"avatar\">{user.username[0]}</div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {participants.filter(p => p.id !== user.id).map(participant => (\r\n                                <div key={participant.id} className=\"video-container\">\r\n                                    <div className=\"video-element participant-video\">\r\n                                        <div className=\"video-placeholder\">\r\n                                            <div className=\"avatar\">{participant.username[0]}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"video-overlay\">\r\n                                        <span className=\"participant-name\">\r\n                                            {participant.username}\r\n                                            {participant.isHost && <span className=\"host-badge\">üëë</span>}\r\n                                        </span>\r\n                                        {!participant.audioEnabled && <span className=\"muted-indicator\">üîá</span>}\r\n                                        {isHost && !participant.isHost && (\r\n                                            <button\r\n                                                className=\"kick-btn\"\r\n                                                onClick={() => handleKickParticipant(participant.id)}\r\n                                            >\r\n                                                ‚ùå\r\n                                            </button>\r\n                                            )}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        <div className=\"video-controls\">\r\n                            <button\r\n                                className={`control-btn ${!audioEnabled ? 'disabled' : ''}`}\r\n                                onClick={toggleAudio}\r\n                            >\r\n                                {audioEnabled ? 'üé§' : 'üîá'}\r\n                            </button>\r\n                            <button\r\n                                className={`control-btn ${!videoEnabled ? 'disabled' : ''}`}\r\n                                onClick={toggleVideo}\r\n                            >\r\n                                {videoEnabled ? 'üìπ' : 'üìµ'}\r\n                            </button>\r\n                        </div>\r\n\r\n                        {isHost && (\r\n                            <div className=\"host-controls\">\r\n                                <button\r\n                                    className=\"start-party-btn\"\r\n                                    onClick={handleStartWatchParty}\r\n                                    disabled={loading}\r\n                                >\r\n                                    {loading ? 'Starting...' : '‚úÖ Start Watch Party'}\r\n                                </button>\r\n                                <button className=\"wait-btn\">\r\n                                    ‚è≥ Wait For More Friends\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"sidebar\">\r\n                        <div className=\"room-info\">\r\n                            <h3>Room: {roomData?.roomCode}</h3>\r\n                            <div className=\"share-options\">\r\n                                <button className=\"share-btn\" onClick={copyRoomLink}>\r\n                                    üìã Copy Link\r\n                                </button>\r\n                                <button className=\"share-btn\" onClick={shareToWhatsApp}>\r\n                                    üì± WhatsApp\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"participants-list\">\r\n                            <h4>Participants ({participants.length})</h4>\r\n                            {participants.map(participant => (\r\n                                <div key={participant.id} className=\"participant-item\">\r\n                                    <div className=\"participant-info\">\r\n                                        <span className=\"participant-avatar\">{participant.username[0]}</span>\r\n                                        <span className=\"participant-name\">\r\n                                            {participant.username}\r\n                                            {participant.isHost && <span className=\"host-badge\">üëë</span>}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"participant-status\">\r\n                                        {!participant.audioEnabled && <span>üîá</span>}\r\n                                        {!participant.videoEnabled && <span>üìµ</span>}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        <div className=\"chat-section\">\r\n                            <h4>Chat</h4>\r\n                            <div className=\"chat-messages\">\r\n                                {chatMessages.map(msg => (\r\n                                    <div key={msg.id} className={`chat-message ${msg.type}`}>\r\n                                        {msg.type === 'system' ? (\r\n                                            <span className=\"system-message\">{msg.message}</span>\r\n                                        ) : (\r\n                                            <>\r\n                                                <span className=\"message-user\">{msg.username}:</span>\r\n                                                <span className=\"message-text\">{msg.message}</span>\r\n                                            </>\r\n                                        )}\r\n                                        <span className=\"message-time\">{msg.timestamp}</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            <div className=\"chat-input\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={chatInput}\r\n                                    onChange={(e) => setChatInput(e.target.value)}\r\n                                    onKeyPress={(e) => e.key === 'Enter' && sendChatMessage()}\r\n                                    placeholder=\"Type A Message...\"\r\n                                />\r\n                                <button onClick={sendChatMessage}>Send</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"dashboard-container\">\r\n            <nav className=\"navbar\">\r\n                <div className=\"navbar-brand\">Fliora</div>\r\n                <div className=\"navbar-user\">\r\n                    <span>Welcome, {user?.username}!</span>\r\n                    <button className=\"logout-btn\" onClick={onLogout}>\r\n                        Logout\r\n                    </button>\r\n                </div>\r\n            </nav>\r\n\r\n            <div className=\"dashboard-content\">\r\n                <div className=\"welcome-section\">\r\n                    <h1 className=\"dashboard-title\">Welcome to Fliora!</h1>\r\n                    <p className=\"dashboard-subtitle\">\r\n                        Watch Movies With Friends While Video Chatting\r\n                    </p>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"error-message\">\r\n                        {error}\r\n                        <button onClick={() => setError('')}>√ó</button>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"main-actions\">\r\n                    <div className=\"action-card\">\r\n                        <div className=\"action-icon\">üé¨</div>\r\n                        <h3>Create Room</h3>\r\n                        <p>Start A New Watch Party And Invite Your Friends</p>\r\n                        <button\r\n                            className=\"action-btn create-btn\"\r\n                            onClick={handleCreateRoom}\r\n                            disabled={loading}\r\n                        >\r\n                            {loading ? 'Creating...' : 'Create Room'}\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"action-divider\">OR</div>\r\n\r\n                    <div className=\"action-card\">\r\n                        <div className=\"action-icon\">üîó</div>\r\n                        <h3>Join Room</h3>\r\n                        <p>Enter A Room Code To Join An Existing Watch Party</p>\r\n                        <div className=\"join-room-form\">\r\n                            <input\r\n                                type=\"text\"\r\n                                value={joinRoomCode}\r\n                                onChange={(e) => setJoinRoomCode(e.target.value.toUpperCase())}\r\n                                placeholder=\"Enter room code\"\r\n                                maxLength={8}\r\n                                className=\"room-code-input\"\r\n                            />\r\n                            <button\r\n                                className=\"action-btn join-btn\"\r\n                                onClick={() => handleJoinRoom()}\r\n                                disabled={loading || !joinRoomCode.trim()}\r\n                            >\r\n                                {loading ? 'Joining...' : 'Join Room'}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"features-preview\">\r\n                    <h2>Coming Soon Features</h2>\r\n                    <div className=\"features-grid\">\r\n                        <div className=\"feature-card\">\r\n                            <div className=\"feature-icon\">üçø</div>\r\n                            <h3>Movie Streaming</h3>\r\n                            <p>Stream Movies Together In Sync</p>\r\n                        </div>\r\n                        <div className=\"feature-card\">\r\n                            <div className=\"feature-icon\">üí¨</div>\r\n                            <h3>Reactions</h3>\r\n                            <p>React And Comment During Movies</p>\r\n                        </div>\r\n                        <div className=\"feature-card\">\r\n                            <div className=\"feature-icon\">üì±</div>\r\n                            <h3>Mobile App</h3>\r\n                            <p>Watch On Your Mobile Device</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}