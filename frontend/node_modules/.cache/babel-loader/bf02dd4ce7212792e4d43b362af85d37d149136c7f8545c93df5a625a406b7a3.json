{"ast":null,"code":"var _jsxFileName = \"E:\\\\fliora\\\\fliora\\\\frontend\\\\src\\\\components\\\\auth\\\\RegisterPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport authService from '../../services/authService';\nimport '../../styles/RegisterPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RegisterPage = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [availability, setAvailability] = useState({\n    username: {\n      status: 'idle',\n      message: ''\n    },\n    email: {\n      status: 'idle',\n      message: ''\n    }\n  });\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [registeredEmail, setRegisteredEmail] = useState('');\n  const [passwordStrength, setPasswordStrength] = useState({\n    score: 0,\n    text: ''\n  });\n  const navigate = useNavigate();\n  const checkPasswordStrength = password => {\n    let score = 0;\n    let feedback = [];\n    if (password.length >= 8) score++;\n    if (/[a-z]/.test(password)) score++;\n    if (/[A-Z]/.test(password)) score++;\n    if (/\\d/.test(password)) score++;\n    if (/[@$!%*?&]/.test(password)) score++;\n    const strengthLevels = ['', 'Weak', 'Fair', 'Good', 'Strong'];\n    return {\n      score,\n      text: strengthLevels[score] || ''\n    };\n  };\n  const checkAvailability = async (type, value) => {\n    if (!value.trim()) return;\n    console.log(`ðŸ” Checking availability for ${type}: ${value}`);\n    setAvailability(prev => ({\n      ...prev,\n      [type]: {\n        status: 'checking',\n        message: 'Checking...'\n      }\n    }));\n    try {\n      const response = await authService.checkAvailability(type, value);\n      console.log(`âœ… Availability response for ${type}:`, response);\n      setAvailability(prev => ({\n        ...prev,\n        [type]: {\n          status: response.available ? 'available' : 'unavailable',\n          message: response.available ? 'Available' : `${type} already taken`\n        }\n      }));\n    } catch (error) {\n      var _error$response, _error$response2, _error$response3;\n      console.error(`âŒ Availability check failed for ${type}:`, error);\n      console.error('Error details:', {\n        message: error.message,\n        response: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data,\n        status: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status,\n        statusText: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.statusText\n      });\n      setAvailability(prev => {\n        var _error$response4;\n        return {\n          ...prev,\n          [type]: {\n            status: 'error',\n            message: `Check failed: ${((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) || 'Network error'}`\n          }\n        };\n      });\n    }\n  };\n\n  // Debounced availability check\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      if (formData.username && formData.username.length >= 3) {\n        checkAvailability('username', formData.username);\n      } else if (formData.username && formData.username.length > 0) {\n        console.log('âš ï¸ Username too short for check:', formData.username);\n      }\n    }, 500);\n    return () => clearTimeout(timeoutId);\n  }, [formData.username]);\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      if (formData.email && formData.email.includes('@')) {\n        checkAvailability('email', formData.email);\n      } else if (formData.email && formData.email.length > 0) {\n        console.log('âš ï¸ Email invalid for check:', formData.email);\n      }\n    }, 500);\n    return () => clearTimeout(timeoutId);\n  }, [formData.email]);\n  useEffect(() => {\n    if (formData.password) {\n      setPasswordStrength(checkPasswordStrength(formData.password));\n    } else {\n      setPasswordStrength({\n        score: 0,\n        text: ''\n      });\n    }\n  }, [formData.password]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n  const validateForm = () => {\n    const newErrors = {};\n\n    // Username validation\n    if (!formData.username.trim()) {\n      newErrors.username = 'Username is required';\n    } else if (formData.username.length < 3 || formData.username.length > 50) {\n      newErrors.username = 'Username must be between 3 and 50 characters';\n    } else if (!/^[a-zA-Z0-9_]+$/.test(formData.username)) {\n      newErrors.username = 'Username can only contain letters, numbers and underscores';\n    }\n\n    // Email validation\n    if (!formData.email.trim()) {\n      newErrors.email = 'Email is required';\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      newErrors.email = 'Please provide a valid email address';\n    }\n\n    // Password validation\n    if (!formData.password) {\n      newErrors.password = 'Password is required';\n    } else if (formData.password.length < 8 || formData.password.length > 128) {\n      newErrors.password = 'Password must be between 8 and 128 characters';\n    } else if (!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]+$/.test(formData.password)) {\n      newErrors.password = 'Password must contain at least one lowercase letter, one uppercase letter, one digit, and one special character';\n    }\n\n    // Confirm password validation\n    if (!formData.confirmPassword) {\n      newErrors.confirmPassword = 'Confirm password is required';\n    } else if (formData.password !== formData.confirmPassword) {\n      newErrors.confirmPassword = 'Passwords do not match';\n    }\n\n    // Check availability\n    if (availability.username.status === 'unavailable') {\n      newErrors.username = 'Username is not available';\n    }\n    if (availability.email.status === 'unavailable') {\n      newErrors.email = 'Email is already registered';\n    }\n    return newErrors;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const validationErrors = validateForm();\n    if (Object.keys(validationErrors).length > 0) {\n      setErrors(validationErrors);\n      return;\n    }\n    setLoading(true);\n    setErrors({});\n    try {\n      const response = await authService.register(formData);\n      if (response.success) {\n        setRegisteredEmail(formData.email);\n        setShowSuccess(true);\n      }\n    } catch (error) {\n      console.error('Registration error:', error);\n      if (error.errors) {\n        setErrors(error.errors);\n      } else {\n        setErrors({\n          general: error.message || 'Registration failed. Please try again.'\n        });\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (showSuccess) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"verification-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"verification-icon success\",\n            children: \"\\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"verification-title\",\n            children: \"Registration Successful!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"verification-description\",\n            children: [\"We've sent a verification email to \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: registeredEmail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 64\n            }, this), \". Please check your inbox and click the verification link to activate your account.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"resend-btn\",\n              onClick: async () => {\n                try {\n                  await authService.resendVerificationEmail(registeredEmail);\n                  alert('Verification email sent!');\n                } catch (error) {\n                  alert('Failed to send email: ' + error.message);\n                }\n              },\n              children: \"Resend Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"back-btn\",\n              onClick: () => navigate('/login'),\n              children: \"Go to Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"form-title\",\n        children: \"Join Fliora\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"register-subtitle\",\n        children: \"Create your account to get started\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this), errors.general && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert error\",\n        children: errors.general\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username\",\n            className: \"form-label\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-with-availability\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"username\",\n              name: \"username\",\n              value: formData.username,\n              onChange: handleChange,\n              className: `form-input ${errors.username ? 'error' : availability.username.status === 'available' ? 'success' : ''}`,\n              placeholder: \"Choose a username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 29\n            }, this), formData.username && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `availability-indicator ${availability.username.status}`,\n              children: [availability.username.message, availability.username.status === 'available' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"checkmark\",\n                children: \"\\u2713\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 86\n              }, this), availability.username.status === 'unavailable' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"checkmark\",\n                children: \"\\u2717\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 88\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 25\n          }, this), errors.username && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"form-label\",\n            children: \"Email Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-with-availability\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"email\",\n              name: \"email\",\n              value: formData.email,\n              onChange: handleChange,\n              className: `form-input ${errors.email ? 'error' : availability.email.status === 'available' ? 'success' : ''}`,\n              placeholder: \"Enter your email address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 29\n            }, this), formData.email && formData.email.includes('@') && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `availability-indicator ${availability.email.status}`,\n              children: [availability.email.message, availability.email.status === 'available' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"checkmark\",\n                children: \"\\u2713\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 83\n              }, this), availability.email.status === 'unavailable' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"checkmark\",\n                children: \"\\u2717\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 85\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 25\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: \"form-label\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            name: \"password\",\n            value: formData.password,\n            onChange: handleChange,\n            className: `form-input ${errors.password ? 'error' : ''}`,\n            placeholder: \"Create a strong password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 25\n          }, this), formData.password && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"password-strength\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `password-strength-bar ${passwordStrength.text.toLowerCase()}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `password-strength-text ${passwordStrength.text.toLowerCase()}`,\n              children: passwordStrength.text && `Password strength: ${passwordStrength.text}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 29\n          }, this), errors.password && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"password-requirements\",\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Password must contain: lowercase, uppercase, number, and special character\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"confirmPassword\",\n            className: \"form-label\",\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"confirmPassword\",\n            name: \"confirmPassword\",\n            value: formData.confirmPassword,\n            onChange: handleChange,\n            className: `form-input ${errors.confirmPassword ? 'error' : formData.confirmPassword && formData.password === formData.confirmPassword ? 'success' : ''}`,\n            placeholder: \"Confirm your password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 25\n          }, this), errors.confirmPassword && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.confirmPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 29\n          }, this), formData.confirmPassword && formData.password === formData.confirmPassword && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"success-message\",\n            children: \"Passwords match \\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"submit-btn\",\n          disabled: loading,\n          children: [loading && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"loading-spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 37\n          }, this), loading ? 'Creating Account...' : 'Create Account']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-footer\",\n        children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"form-link\",\n          children: \"Sign in here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 250,\n    columnNumber: 9\n  }, this);\n};\n_s(RegisterPage, \"6XU+pwmNtnkU57h69rlGbPTjpk4=\", false, function () {\n  return [useNavigate];\n});\n_c = RegisterPage;\nexport default RegisterPage;\nvar _c;\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","authService","jsxDEV","_jsxDEV","RegisterPage","_s","formData","setFormData","username","email","password","confirmPassword","errors","setErrors","loading","setLoading","availability","setAvailability","status","message","showSuccess","setShowSuccess","registeredEmail","setRegisteredEmail","passwordStrength","setPasswordStrength","score","text","navigate","checkPasswordStrength","feedback","length","test","strengthLevels","checkAvailability","type","value","trim","console","log","prev","response","available","error","_error$response","_error$response2","_error$response3","data","statusText","_error$response4","timeoutId","setTimeout","clearTimeout","includes","handleChange","e","name","target","validateForm","newErrors","handleSubmit","preventDefault","validationErrors","Object","keys","register","success","general","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","resendVerificationEmail","alert","onSubmit","htmlFor","id","onChange","placeholder","toLowerCase","disabled","to","_c","$RefreshReg$"],"sources":["E:/fliora/fliora/frontend/src/components/auth/RegisterPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport authService from '../../services/authService';\r\nimport '../../styles/RegisterPage.css';\r\n\r\nconst RegisterPage = () => {\r\n    const [formData, setFormData] = useState({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n    });\r\n    const [errors, setErrors] = useState({});\r\n    const [loading, setLoading] = useState(false);\r\n    const [availability, setAvailability] = useState({\r\n        username: { status: 'idle', message: '' },\r\n        email: { status: 'idle', message: '' }\r\n    });\r\n    const [showSuccess, setShowSuccess] = useState(false);\r\n    const [registeredEmail, setRegisteredEmail] = useState('');\r\n    const [passwordStrength, setPasswordStrength] = useState({ score: 0, text: '' });\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const checkPasswordStrength = (password) => {\r\n        let score = 0;\r\n        let feedback = [];\r\n\r\n        if (password.length >= 8) score++;\r\n        if (/[a-z]/.test(password)) score++;\r\n        if (/[A-Z]/.test(password)) score++;\r\n        if (/\\d/.test(password)) score++;\r\n        if (/[@$!%*?&]/.test(password)) score++;\r\n\r\n        const strengthLevels = ['', 'Weak', 'Fair', 'Good', 'Strong'];\r\n        return {\r\n            score,\r\n            text: strengthLevels[score] || ''\r\n        };\r\n    };\r\n\r\n    const checkAvailability = async (type, value) => {\r\n        if (!value.trim()) return;\r\n\r\n        console.log(`ðŸ” Checking availability for ${type}: ${value}`);\r\n\r\n        setAvailability(prev => ({\r\n            ...prev,\r\n            [type]: { status: 'checking', message: 'Checking...' }\r\n        }));\r\n\r\n        try {\r\n            const response = await authService.checkAvailability(type, value);\r\n            console.log(`âœ… Availability response for ${type}:`, response);\r\n\r\n            setAvailability(prev => ({\r\n                ...prev,\r\n                [type]: {\r\n                    status: response.available ? 'available' : 'unavailable',\r\n                    message: response.available ? 'Available' : `${type} already taken`\r\n                }\r\n            }));\r\n        } catch (error) {\r\n            console.error(`âŒ Availability check failed for ${type}:`, error);\r\n            console.error('Error details:', {\r\n                message: error.message,\r\n                response: error.response?.data,\r\n                status: error.response?.status,\r\n                statusText: error.response?.statusText\r\n            });\r\n\r\n            setAvailability(prev => ({\r\n                ...prev,\r\n                [type]: {\r\n                    status: 'error',\r\n                    message: `Check failed: ${error.response?.status || 'Network error'}`\r\n                }\r\n            }));\r\n        }\r\n    };\r\n\r\n    // Debounced availability check\r\n    useEffect(() => {\r\n        const timeoutId = setTimeout(() => {\r\n            if (formData.username && formData.username.length >= 3) {\r\n                checkAvailability('username', formData.username);\r\n            } else if (formData.username && formData.username.length > 0) {\r\n                console.log('âš ï¸ Username too short for check:', formData.username);\r\n            }\r\n        }, 500);\r\n\r\n        return () => clearTimeout(timeoutId);\r\n    }, [formData.username]);\r\n\r\n    useEffect(() => {\r\n        const timeoutId = setTimeout(() => {\r\n            if (formData.email && formData.email.includes('@')) {\r\n                checkAvailability('email', formData.email);\r\n            } else if (formData.email && formData.email.length > 0) {\r\n                console.log('âš ï¸ Email invalid for check:', formData.email);\r\n            }\r\n        }, 500);\r\n\r\n        return () => clearTimeout(timeoutId);\r\n    }, [formData.email]);\r\n\r\n    useEffect(() => {\r\n        if (formData.password) {\r\n            setPasswordStrength(checkPasswordStrength(formData.password));\r\n        } else {\r\n            setPasswordStrength({ score: 0, text: '' });\r\n        }\r\n    }, [formData.password]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n\r\n        // Clear error when user starts typing\r\n        if (errors[name]) {\r\n            setErrors(prev => ({\r\n                ...prev,\r\n                [name]: ''\r\n            }));\r\n        }\r\n    };\r\n\r\n    const validateForm = () => {\r\n        const newErrors = {};\r\n\r\n        // Username validation\r\n        if (!formData.username.trim()) {\r\n            newErrors.username = 'Username is required';\r\n        } else if (formData.username.length < 3 || formData.username.length > 50) {\r\n            newErrors.username = 'Username must be between 3 and 50 characters';\r\n        } else if (!/^[a-zA-Z0-9_]+$/.test(formData.username)) {\r\n            newErrors.username = 'Username can only contain letters, numbers and underscores';\r\n        }\r\n\r\n        // Email validation\r\n        if (!formData.email.trim()) {\r\n            newErrors.email = 'Email is required';\r\n        } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\r\n            newErrors.email = 'Please provide a valid email address';\r\n        }\r\n\r\n        // Password validation\r\n        if (!formData.password) {\r\n            newErrors.password = 'Password is required';\r\n        } else if (formData.password.length < 8 || formData.password.length > 128) {\r\n            newErrors.password = 'Password must be between 8 and 128 characters';\r\n        } else if (!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]+$/.test(formData.password)) {\r\n            newErrors.password = 'Password must contain at least one lowercase letter, one uppercase letter, one digit, and one special character';\r\n        }\r\n\r\n        // Confirm password validation\r\n        if (!formData.confirmPassword) {\r\n            newErrors.confirmPassword = 'Confirm password is required';\r\n        } else if (formData.password !== formData.confirmPassword) {\r\n            newErrors.confirmPassword = 'Passwords do not match';\r\n        }\r\n\r\n        // Check availability\r\n        if (availability.username.status === 'unavailable') {\r\n            newErrors.username = 'Username is not available';\r\n        }\r\n        if (availability.email.status === 'unavailable') {\r\n            newErrors.email = 'Email is already registered';\r\n        }\r\n\r\n        return newErrors;\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const validationErrors = validateForm();\r\n        if (Object.keys(validationErrors).length > 0) {\r\n            setErrors(validationErrors);\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setErrors({});\r\n\r\n        try {\r\n            const response = await authService.register(formData);\r\n\r\n            if (response.success) {\r\n                setRegisteredEmail(formData.email);\r\n                setShowSuccess(true);\r\n            }\r\n        } catch (error) {\r\n            console.error('Registration error:', error);\r\n\r\n            if (error.errors) {\r\n                setErrors(error.errors);\r\n            } else {\r\n                setErrors({\r\n                    general: error.message || 'Registration failed. Please try again.'\r\n                });\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (showSuccess) {\r\n        return (\r\n            <div className=\"auth-page\">\r\n                <div className=\"form-container\">\r\n                    <div className=\"verification-container\">\r\n                        <div className=\"verification-icon success\">âœ…</div>\r\n                        <h2 className=\"verification-title\">Registration Successful!</h2>\r\n                        <p className=\"verification-description\">\r\n                            We've sent a verification email to <strong>{registeredEmail}</strong>.\r\n                            Please check your inbox and click the verification link to activate your account.\r\n                        </p>\r\n                        <div>\r\n                            <button\r\n                                className=\"resend-btn\"\r\n                                onClick={async () => {\r\n                                    try {\r\n                                        await authService.resendVerificationEmail(registeredEmail);\r\n                                        alert('Verification email sent!');\r\n                                    } catch (error) {\r\n                                        alert('Failed to send email: ' + error.message);\r\n                                    }\r\n                                }}\r\n                            >\r\n                                Resend Email\r\n                            </button>\r\n                            <button\r\n                                className=\"back-btn\"\r\n                                onClick={() => navigate('/login')}\r\n                            >\r\n                                Go to Login\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"auth-page\">\r\n            <div className=\"form-container\">\r\n                <h2 className=\"form-title\">Join Fliora</h2>\r\n                <p className=\"register-subtitle\">Create your account to get started</p>\r\n\r\n                {errors.general && (\r\n                    <div className=\"alert error\">\r\n                        {errors.general}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"username\" className=\"form-label\">\r\n                            Username\r\n                        </label>\r\n                        <div className=\"input-with-availability\">\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"username\"\r\n                                name=\"username\"\r\n                                value={formData.username}\r\n                                onChange={handleChange}\r\n                                className={`form-input ${errors.username ? 'error' :\r\n                                    availability.username.status === 'available' ? 'success' : ''}`}\r\n                                placeholder=\"Choose a username\"\r\n                            />\r\n                            {formData.username && (\r\n                                <span className={`availability-indicator ${availability.username.status}`}>\r\n                  {availability.username.message}\r\n                                    {availability.username.status === 'available' && <span className=\"checkmark\">âœ“</span>}\r\n                                    {availability.username.status === 'unavailable' && <span className=\"checkmark\">âœ—</span>}\r\n                </span>\r\n                            )}\r\n                        </div>\r\n                        {errors.username && (\r\n                            <span className=\"error-message\">{errors.username}</span>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"email\" className=\"form-label\">\r\n                            Email Address\r\n                        </label>\r\n                        <div className=\"input-with-availability\">\r\n                            <input\r\n                                type=\"email\"\r\n                                id=\"email\"\r\n                                name=\"email\"\r\n                                value={formData.email}\r\n                                onChange={handleChange}\r\n                                className={`form-input ${errors.email ? 'error' :\r\n                                    availability.email.status === 'available' ? 'success' : ''}`}\r\n                                placeholder=\"Enter your email address\"\r\n                            />\r\n                            {formData.email && formData.email.includes('@') && (\r\n                                <span className={`availability-indicator ${availability.email.status}`}>\r\n                  {availability.email.message}\r\n                                    {availability.email.status === 'available' && <span className=\"checkmark\">âœ“</span>}\r\n                                    {availability.email.status === 'unavailable' && <span className=\"checkmark\">âœ—</span>}\r\n                </span>\r\n                            )}\r\n                        </div>\r\n                        {errors.email && (\r\n                            <span className=\"error-message\">{errors.email}</span>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"password\" className=\"form-label\">\r\n                            Password\r\n                        </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            value={formData.password}\r\n                            onChange={handleChange}\r\n                            className={`form-input ${errors.password ? 'error' : ''}`}\r\n                            placeholder=\"Create a strong password\"\r\n                        />\r\n                        {formData.password && (\r\n                            <div className=\"password-strength\">\r\n                                <div className={`password-strength-bar ${passwordStrength.text.toLowerCase()}`}></div>\r\n                                <div className={`password-strength-text ${passwordStrength.text.toLowerCase()}`}>\r\n                                    {passwordStrength.text && `Password strength: ${passwordStrength.text}`}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        {errors.password && (\r\n                            <span className=\"error-message\">{errors.password}</span>\r\n                        )}\r\n                        <div className=\"password-requirements\">\r\n                            <small>Password must contain: lowercase, uppercase, number, and special character</small>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"confirmPassword\" className=\"form-label\">\r\n                            Confirm Password\r\n                        </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"confirmPassword\"\r\n                            name=\"confirmPassword\"\r\n                            value={formData.confirmPassword}\r\n                            onChange={handleChange}\r\n                            className={`form-input ${errors.confirmPassword ? 'error' :\r\n                                formData.confirmPassword && formData.password === formData.confirmPassword ? 'success' : ''}`}\r\n                            placeholder=\"Confirm your password\"\r\n                        />\r\n                        {errors.confirmPassword && (\r\n                            <span className=\"error-message\">{errors.confirmPassword}</span>\r\n                        )}\r\n                        {formData.confirmPassword && formData.password === formData.confirmPassword && (\r\n                            <span className=\"success-message\">Passwords match âœ“</span>\r\n                        )}\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"submit-btn\"\r\n                        disabled={loading}\r\n                    >\r\n                        {loading && <span className=\"loading-spinner\"></span>}\r\n                        {loading ? 'Creating Account...' : 'Create Account'}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"form-footer\">\r\n                    Already have an account? <Link to=\"/login\" className=\"form-link\">Sign in here</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RegisterPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}